<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ajedrez â€¢ Entrenamiento Mental</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1976d2">

  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(145deg, #dbeafe, #e0f2fe);
      padding: 18px;
    }

    .app {
      background: #fff;
      width: 100%;
      max-width: 720px;
      padding: 18px;
      border-radius: 24px;
      box-shadow: 0 16px 40px rgba(0, 0, 0, .12);
    }

    .brand-header-kids {
      padding: 14px;
      border-radius: 22px;
      margin-bottom: 12px;
      background: linear-gradient(90deg, #22c55e, #38bdf8);
      color: #020617;
      cursor: default;
    }

    .brand-row {
      display: flex;
      align-items: flex-start;
      gap: 12px;
    }

    .kids-badge {
      width: 52px;
      height: 52px;
      border-radius: 18px;
      display: grid;
      place-items: center;
      font-size: 1.5rem;
      background: rgba(255, 255, 255, .25);
    }

    .kids-title {
      font-weight: 900;
      font-size: 1.5rem;
    }

    .kids-subtitle {
      margin-left: auto;
      margin-top: 4px;
      display: flex;
      gap: 8px;
      flex-wrap: nowrap;
      white-space: nowrap;
      justify-content: flex-end;
    }

    .kids-pill {
      background: rgba(255, 255, 255, .25);
      padding: 4px 10px;
      border-radius: 999px;
      cursor: pointer;
      pointer-events: auto;
    }

    .kids-pill:hover {
      background: rgba(255, 255, 255, .45);
      transform: translateY(-1px);
    }

    .brand-header-kids {
      pointer-events: none;
    }

    h1 {
      text-align: center;
      margin: 6px 0 4px;
      font-size: 1.35rem;
    }

    .subtitle {
      text-align: center;
      font-size: .98rem;
      color: #6b7280;
      margin: 0 0 10px;
    }

    .status-bar {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      padding: 8px 12px;
      border-radius: 999px;
      background: #eff6ff;
      border: 1px solid #bfdbfe;
      font-size: .9rem;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    .progress {
      height: 10px;
      background: #e5e7eb;
      border-radius: 999px;
      overflow: hidden;
      margin-bottom: 12px;
    }

    .progress-inner {
      height: 100%;
      width: 0%;
      background: #2563eb;
      transition: .3s;
    }

    .card {
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      border-radius: 20px;
      padding: 16px;
    }

    .listen-btn {
      width: auto;
      display: block;
      margin: 0 auto 10px;
      padding: 8px 18px;
      font-size: .9rem;
      border: none;
      border-radius: 999px;
      font-weight: 800;
      background: #1d4ed8;
      color: #fff;
      cursor: pointer;
    }

    .step {
      display: none;
      line-height: 1.55;
      font-size: 1rem;
    }

    .step.active {
      display: block;
    }

    .step h3 {
      margin: 0 0 8px;
    }

    .muted {
      color: #64748b;
      font-size: .95rem;
    }

    .callout {
      padding: 10px 12px;
      border-radius: 16px;
      border: 1px solid #e5e7eb;
      background: #ffffff;
      margin: 10px 0;
      font-weight: 700;
    }

    ul,
    ol {
      margin: 8px 0 8px 18px;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 12px;
      flex-wrap: wrap;
    }

    .main-btn {
      width: 30%;
      min-width: 140px;
      border: none;
      padding: 10px;
      border-radius: 999px;
      font-weight: 800;
      background: #2563eb;
      color: #fff;
      cursor: pointer;
    }

    .main-btn.secondary {
      background: #64748b;
    }

    .table {
      width: 100%;
      border-collapse: collapse;
      overflow: hidden;
      border-radius: 16px;
      border: 1px solid #e5e7eb;
      background: #fff;
      margin-top: 10px;
      font-size: .95rem;
    }

    .table th,
    .table td {
      padding: 10px 12px;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
    }

    .table th {
      background: #eff6ff;
      border-bottom: 1px solid #bfdbfe;
    }

    .table tr:last-child td {
      border-bottom: none;
    }

    .endPanel {
      display: none;
      text-align: center;
      margin-top: 12px;
    }

    @media (max-width: 480px) {
      .kids-title {
        font-size: 1.05rem;
        white-space: nowrap;
      }

      .kids-badge {
        width: 38px;
        height: 38px;
        font-size: 1.2rem;
      }

      .kids-subtitle {
        font-size: .75rem;
        gap: 6px;
      }

      .brand-header-kids {
        padding: 10px;
      }

      .main-btn {
        width: 100%;
      }
    }

    @media (min-width: 900px) {
      .app {
        max-width: 820px;
        padding: 18px;
      }

      h1 {
        font-size: 1.6rem;
      }

      .subtitle {
        font-size: 1.1rem;
      }
    }
  </style>
</head>

<body>
  <div class="app">

    <div class="brand-header-kids">
      <div class="brand-row">
        <div class="kids-badge">â™Ÿï¸</div>
        <div style="width:100%">
          <div class="kids-title">Academia de Ajedrez Mauro</div>
          <div class="kids-subtitle">
            <span class="kids-pill nav" onclick="location.href='index.html'">Inicio</span>
            <span class="kids-pill nav" onclick="location.href='ruta-chess.html'">Ruta de aprendizaje</span>
          </div>
        </div>
      </div>
    </div>

    <h1>ğŸ§  Entrenamiento Mental</h1>
    <p class="subtitle">Para mejorar la toma de decisiones antes de mover</p>

    <div class="status-bar">
      <div>ğŸ“Œ SecciÃ³n: <b id="sec">1</b>/<span id="secTotal">8</span></div>
      <div>ğŸ“Š Progreso: <b id="prog">0</b>%</div>
    </div>

    <div class="progress">
      <div class="progress-inner" id="bar"></div>
    </div>

    <div class="card">
      <button class="listen-btn" onclick="speakStep()">ğŸ”Š Escuchar esta secciÃ³n</button>

      <!-- 1 -->
      <div class="step active" data-title="Entrenamiento Mental">
        <h3>ğŸ§  ENTRENAMIENTO MENTAL PARA MEJORAR LA TOMA DE DECISIONES</h3>
        <div class="callout">
          <b>Objetivo:</b> Elegir la mejor jugada prÃ¡ctica bajo presiÃ³n, con claridad,
          constancia y menos errores graves.
        </div>
        <p class="muted">
          Este plan entrena tu proceso mental: evaluaciÃ³n â†’ candidatos â†’ cÃ¡lculo â†’ plan â†’ decisiÃ³n â†’ revisiÃ³n.
        </p>
      </div>

      <!-- 2 -->
      <div class="step" data-title="Principio Central">
        <h3>ğŸ”‘ PRINCIPIO CENTRAL (regla de oro)</h3>
        <div class="callout">
          No busques la mejor jugada primero.<br>
          <b>Busca entender la posiciÃ³n.</b>
        </div>
        <p>Todo el entrenamiento gira alrededor de esto.</p>
      </div>

      <!-- 3 -->
      <div class="step" data-title="Bloque 1">
        <h3>ğŸ§© BLOQUE 1 â€” Entrenar la evaluaciÃ³n (10â€“15 min diarios)</h3>

        <h4>Ejercicio A: EvaluaciÃ³n sin mover piezas</h4>
        <ol>
          <li>Coloca una posiciÃ³n (medio juego o final).</li>
          <li><b>NO</b> calcules variantes.</li>
          <li>Responde por escrito (o mentalmente):</li>
        </ol>
        <ul>
          <li>Â¿QuiÃ©n estÃ¡ mejor?</li>
          <li>Â¿Por quÃ©?</li>
          <li>Â¿CuÃ¡l es el plan correcto para cada bando?</li>
          <li>Â¿QuÃ© pieza es la peor colocada?</li>
        </ul>

        <div class="callout">â›” Prohibido pensar jugadas concretas.</div>
        <p>âœ”ï¸ Esto entrena el pensamiento estratÃ©gico previo.</p>

        <h4>Ejercicio B: Etiquetar la posiciÃ³n</h4>
        <p>Di en voz baja una sola frase:</p>
        <ul>
          <li>â€œVentaja estable de blancasâ€</li>
          <li>â€œIgualada pero dinÃ¡micaâ€</li>
          <li>â€œNegro debe defenderâ€</li>
          <li>â€œPosiciÃ³n tÃ©cnica ganadoraâ€</li>
        </ul>
        <p>ğŸ‘‰ Los GM siempre etiquetan la posiciÃ³n antes de mover.</p>
      </div>

      <!-- 4 -->
      <div class="step" data-title="Bloque 2">
        <h3>ğŸ¯ BLOQUE 2 â€” Candidatos correctos (10 min)</h3>

        <h4>Ejercicio C: Regla de los 3 candidatos</h4>
        <ol>
          <li>Para cada posiciÃ³n, elige <b>mÃ¡ximo 3 jugadas</b>.</li>
          <li>Descarta todo lo demÃ¡s.</li>
        </ol>
        <p>Luego pregÃºntate:</p>
        <ul>
          <li>Â¿QuÃ© plan representa cada jugada?</li>
          <li>Â¿CuÃ¡l limita mÃ¡s al rival?</li>
        </ul>

        <div class="callout">â›” Si tienes mÃ¡s de 3 â†’ no entendiste la posiciÃ³n.</div>

        <h4>Ejercicio D: Eliminar jugadas bonitas</h4>
        <p>Entrena a rechazar:</p>
        <ul>
          <li>Sacrificios â€œtentadoresâ€</li>
          <li>Ataques sin base</li>
          <li>Movimientos automÃ¡ticos</li>
        </ul>

        <div class="callout">Pregunta clave: â€œÂ¿Esta jugada mejora mi posiciÃ³n aunque no funcione tÃ¡cticamente?â€</div>
      </div>

      <!-- 5 -->
      <div class="step" data-title="Bloque 3">
        <h3>ğŸ” BLOQUE 3 â€” CÃ¡lculo selectivo (15â€“20 min)</h3>

        <h4>Ejercicio E: Solo jugadas forzadas</h4>
        <p>Calcula solo:</p>
        <ul>
          <li>Jaques</li>
          <li>Capturas</li>
          <li>Amenazas directas</li>
        </ul>
        <div class="callout">Si no hay jugadas forzadas â†’ vuelve al plan, no al cÃ¡lculo.</div>

        <h4>Ejercicio F: Variante crÃ­tica Ãºnica</h4>
        <p>En lugar de 5 lÃ­neas superficiales:</p>
        <ul>
          <li>Elige <b>una variante crÃ­tica</b></li>
          <li>CalcÃºlala bien, hasta el final</li>
        </ul>
        <p>Esto mejora la precisiÃ³n real, no la fantasÃ­a.</p>
      </div>

      <!-- 6 -->
      <div class="step" data-title="Bloque 4">
        <h3>â™Ÿï¸ BLOQUE 4 â€” Pensar en planes, no en jugadas (10 min)</h3>

        <h4>Ejercicio G: Plan en 3 pasos</h4>
        <p>Para cada candidato responde:</p>
        <ul>
          <li>Â¿QuÃ© quiero mejorar?</li>
          <li>Â¿QuÃ© quiero restringir?</li>
          <li>Â¿QuÃ© final me conviene?</li>
        </ul>

        <div class="callout">Ejemplo: â€œCambio piezas â†’ entro a final â†’ peÃ³n dÃ©bil en d6â€</div>
      </div>

      <!-- 7 -->
      <div class="step" data-title="Bloque 5">
        <h3>â±ï¸ BLOQUE 5 â€” Decidir bajo presiÃ³n (5â€“10 min)</h3>

        <h4>Ejercicio H: DecisiÃ³n con reloj</h4>
        <ul>
          <li>Pon 3â€“5 minutos por posiciÃ³n</li>
          <li>Decide sin volver atrÃ¡s</li>
          <li>Juega la jugada y sigue</li>
        </ul>

        <p>Entrena:</p>
        <ul>
          <li>Confianza</li>
          <li>Compromiso</li>
          <li>Claridad mental</li>
        </ul>

        <div class="callout">ğŸ‘‰ Los errores graves vienen mÃ¡s de duda que de ignorancia.</div>
      </div>

      <!-- 8 -->
      <div class="step" data-title="Bloque 6 + Rutina">
        <h3>ğŸ§  BLOQUE 6 â€” RevisiÃ³n inteligente (post-partida)</h3>

        <p>DespuÃ©s de cada partida:</p>
        <ol>
          <li>Marca una sola jugada: <b>âŒ â€œAquÃ­ decidÃ­ malâ€</b></li>
          <li>Pregunta:</li>
        </ol>
        <ul>
          <li>Â¿FallÃ³ mi evaluaciÃ³n?</li>
          <li>Â¿ElegÃ­ mal el plan?</li>
          <li>Â¿CalculÃ© lo incorrecto?</li>
        </ul>

        <div class="callout">â›” No revises 20 jugadas. âœ”ï¸ Corrige el proceso, no el resultado.</div>

        <h3 style="margin-top:14px;">ğŸ“… RUTINA DIARIA (45â€“60 min)</h3>
        <table class="table">
          <thead>
            <tr>
              <th>Bloque</th>
              <th>Tiempo</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>EvaluaciÃ³n</td>
              <td>10â€“15 min</td>
            </tr>
            <tr>
              <td>Candidatos</td>
              <td>10 min</td>
            </tr>
            <tr>
              <td>CÃ¡lculo selectivo</td>
              <td>15â€“20 min</td>
            </tr>
            <tr>
              <td>PlanificaciÃ³n</td>
              <td>10 min</td>
            </tr>
            <tr>
              <td>DecisiÃ³n rÃ¡pida</td>
              <td>5 min</td>
            </tr>
          </tbody>
        </table>

        <div class="callout" style="margin-top:12px;">
          âœ… Si aplicas esto diario, tu toma de decisiones se vuelve mÃ¡s rÃ¡pida, mÃ¡s clara y mÃ¡s confiable.
        </div>
      </div>

    </div>

    <div class="controls">
      <button class="main-btn secondary" onclick="prev()">â¬…ï¸ Anterior</button>
      <button class="main-btn" onclick="next()">Siguiente â¡ï¸</button>
      <button class="main-btn" onclick="shareApp()">ğŸ“¤ Compartir</button>
    </div>

    <div class="card endPanel" id="endPanel">
      <h3>ğŸ‰ Â¡LecciÃ³n completada!</h3>
      <p>Â¿QuÃ© deseas hacer ahora?</p>
      <div class="controls">
        <button class="main-btn" onclick="goNext()">â¡ï¸ Siguiente tema</button>
        <button class="main-btn secondary" onclick="restart()">ğŸ” Repetir</button>
      </div>
    </div>

  </div>

  <script>
    const steps = [...document.querySelectorAll(".step")];
    const sec = document.getElementById("sec");
    const secTotal = document.getElementById("secTotal");
    const prog = document.getElementById("prog");
    const bar = document.getElementById("bar");
    const endPanel = document.getElementById("endPanel");

    secTotal.textContent = steps.length;

    let i = parseInt(localStorage.getItem("mental_step") || "0", 10);
    if (i < 0) i = 0;
    if (i > steps.length - 1) i = steps.length - 1;

    function update() {
      steps.forEach(s => s.classList.remove("active"));
      steps[i].classList.add("active");

      const percent = Math.round(((i) / (steps.length - 1)) * 100);
      bar.style.width = percent + "%";
      prog.textContent = percent;
      sec.textContent = (i + 1);

      localStorage.setItem("mental_step", String(i));

      // mostrar panel final cuando llegue al Ãºltimo
      if (i === steps.length - 1) {
        endPanel.style.display = "block";
      } else {
        endPanel.style.display = "none";
      }
    }

    function next() {
      if (i < steps.length - 1) {
        i++;
        update();
      } else {
        // ya estÃ¡ al final
        update();
      }
    }

    function prev() {
      if (i > 0) {
        i--;
        update();
      }
    }

    function speakText(t) {
      const u = new SpeechSynthesisUtterance(t);
      u.lang = "es-PE";
      u.rate = 0.9;
      speechSynthesis.cancel();
      speechSynthesis.speak(u);
    }

    function speakStep() {
      // lee el texto visible de la secciÃ³n actual (sin HTML)
      const text = steps[i].innerText.replace(/\s+\n/g, "\n").trim();
      speakText(text);
    }

    function shareApp() {
      const data = {
        title: "Academia de Ajedrez Mauro â€¢ Entrenamiento Mental",
        text: "Plan de entrenamiento mental para mejorar la toma de decisiones.",
        url: location.href
      };
      if (navigator.share) navigator.share(data);
      else {
        navigator.clipboard.writeText(data.url);
        alert("Link copiado");
      }
    }

    function goNext() {
      // cambia por tu siguiente lecciÃ³n:
      location.href = "ajedrez-mental-practica.html";
    }

    function restart() {
      i = 0;
      localStorage.setItem("mental_step", "0");
      speechSynthesis.cancel();
      update();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    update();
  </script>

  <script>
    // Registrar Service Worker (PWA)
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("/Mauro-Chess-Academy/service-worker.js");
      });
    }
  </script>

</body>

</html>
